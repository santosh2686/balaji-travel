"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(t){function e(t,e,o){t&&"object"==typeof t||console.error("The headers should be an object or array, is: "+typeof t),e&&"object"==typeof e||console.error("The data should be an object or array, is: "+typeof e),o&&"object"!=typeof o&&console.error("The data should be an object or array, is: "+typeof e),Array.prototype.forEach||console.error("The current browser does not support Array.prototype.forEach which is required for jsPDF-AutoTable. You can try polyfilling it by including this script https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach#Polyfill")}function o(t){var e=u(S(),t);"undefined"!=typeof e.extendWidth&&(e.tableWidth=e.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),"undefined"!=typeof e.margins&&("undefined"==typeof e.margin&&(e.margin=e.margins),console.error("Use of deprecated option: margins, use margin instead.")),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(t){var o="string"==typeof t?t:t[0],n="string"==typeof t?t:t[1];"undefined"!=typeof e[o]&&("undefined"==typeof e.styles[n]&&(e.styles[n]=e[o]),console.error("Use of deprecated option: "+o+", use the style "+n+" instead."))});var o=e.margin;return e.margin={},"number"==typeof o.horizontal&&(o.right=o.horizontal,o.left=o.horizontal),"number"==typeof o.vertical&&(o.top=o.vertical,o.bottom=o.vertical),["top","right","bottom","left"].forEach(function(t,n){if("number"==typeof o)e.margin[t]=o;else{var r=Array.isArray(o)?n:t;e.margin[t]="number"==typeof o[r]?o[r]:40}}),e}function n(t,e){m=new Table,m.x=p.margin.left;var o=/\r\n|\r|\n/g,n=new Row(t);n.index=-1;var r=u(b,C[p.theme].table,C[p.theme].header);n.styles=u(r,p.styles,p.headerStyles),t.forEach(function(t,e){"object"==typeof t&&(e="undefined"!=typeof t.dataKey?t.dataKey:t.key),"undefined"!=typeof t.width&&console.error("Use of deprecated option: column.width, use column.styles.columnWidth instead.");var r=new Column(e);r.styles=p.columnStyles[r.dataKey]||{},m.columns.push(r);var l=new Cell;l.raw="object"==typeof t?t.title:t,l.styles=n.styles,l.text=""+l.raw,l.contentWidth=2*l.styles.cellPadding+y(l.text,l.styles),l.text=l.text.split(o),n.cells[e]=l,p.createdHeaderCell(l,{column:r,row:n,settings:p})}),m.headerRow=n,e.forEach(function(t,e){var n=new Row(t),r=e%2===0,l=u(b,C[p.theme].table,r?C[p.theme].alternateRow:{}),i=u(p.styles,p.bodyStyles,r?p.alternateRowStyles:{});n.styles=u(l,i),n.index=e,m.columns.forEach(function(e){var r=new Cell;r.raw=t[e.dataKey],r.styles=u(n.styles,e.styles),r.text="undefined"!=typeof r.raw?""+r.raw:"",n.cells[e.dataKey]=r,p.createdCell(r,c({column:e,row:n})),r.contentWidth=2*r.styles.cellPadding+y(r.text,r.styles),r.text=r.text.split(o)}),m.rows.push(n)})}function r(){var t=0;m.columns.forEach(function(e){e.contentWidth=m.headerRow.cells[e.dataKey].contentWidth,m.rows.forEach(function(t){var o=t.cells[e.dataKey].contentWidth;o>e.contentWidth&&(e.contentWidth=o)}),e.width=e.contentWidth,t+=e.contentWidth}),m.contentWidth=t;var e=g.internal.pageSize.width-p.margin.left-p.margin.right,o=e;"number"==typeof p.tableWidth?o=p.tableWidth:"wrap"===p.tableWidth&&(o=m.contentWidth),m.width=o<e?o:e;var n=[],r=0,i=m.width/m.columns.length,a=0;m.columns.forEach(function(t){var e=u(b,C[p.theme].table,p.styles,t.styles);"wrap"===e.columnWidth?t.width=t.contentWidth:"number"==typeof e.columnWidth?t.width=e.columnWidth:("auto"===e.columnWidth,t.contentWidth<=i&&m.contentWidth>m.width?t.width=t.contentWidth:(n.push(t),r+=t.contentWidth,t.width=0)),a+=t.width}),l(n,a,r,i),m.height=0;var s=m.rows.concat(m.headerRow);s.forEach(function(t,e){var o=0,n=m.x;m.columns.forEach(function(e){var r=t.cells[e.dataKey];e.x=n,d(r.styles);var l=e.width-2*r.styles.cellPadding;"linebreak"===r.styles.overflow?r.text=g.splitTextToSize(r.text,l+1,{fontSize:r.styles.fontSize}):"ellipsize"===r.styles.overflow?r.text=f(r.text,l,r.styles):"visible"===r.styles.overflow||("hidden"===r.styles.overflow?r.text=f(r.text,l,r.styles,""):"function"==typeof r.styles.overflow?r.text=r.styles.overflow(r.text,l):console.error("Unrecognized overflow type: "+r.styles.overflow));var i=Array.isArray(r.text)?r.text.length-1:0;i>o&&(o=i),n+=e.width}),t.heightStyle=t.styles.rowHeight,t.height=t.heightStyle+o*t.styles.fontSize*x,m.height+=t.height})}function l(t,e,o,n){for(var r=m.width-e-o,i=0;i<t.length;i++){var a=t[i],s=a.contentWidth/o,h=a.contentWidth+r*s<n;if(r<0&&h){t.splice(i,1),o-=a.contentWidth,a.width=n,e+=a.width,l(t,e,o,n);break}a.width=a.contentWidth+r*s}}function i(){m.rows.forEach(function(t,e){if(s(t.height)){a()}t.y=w.y,p.drawRow(t,c({row:t}))!==!1&&h(t,p.drawCell)})}function a(){p.afterPageContent(c()),g.addPage(),v++,w={x:p.margin.left,y:p.margin.top},p.beforePageContent(c()),p.drawHeaderRow(m.headerRow,c({row:m.headerRow}))!==!1&&h(m.headerRow,p.drawHeaderCell)}function s(t){var e=w.y+t+p.margin.bottom;return e>=g.internal.pageSize.height}function h(t,e){for(var o=0;o<m.columns.length;o++){var n=m.columns[o],r=t.cells[n.dataKey];if(r){d(r.styles),r.x=n.x,r.y=w.y,r.height=t.height,r.width=n.width,"top"===r.styles.valign?r.textPos.y=w.y+r.styles.cellPadding:"bottom"===r.styles.valign?r.textPos.y=w.y+t.height-r.styles.cellPadding:r.textPos.y=w.y+t.height/2,"right"===r.styles.halign?r.textPos.x=r.x+r.width-r.styles.cellPadding:"center"===r.styles.halign?r.textPos.x=r.x+r.width/2:r.textPos.x=r.x+r.styles.cellPadding;var l=c({column:n,row:t});e(r,l)!==!1&&(g.rect(r.x,r.y,r.width,r.height,r.styles.fillStyle),g.autoTableText(r.text,r.textPos.x,r.textPos.y,{halign:r.styles.halign,valign:r.styles.valign}))}}w.y+=t.height}function d(t){var e=[{func:g.setFillColor,value:t.fillColor},{func:g.setTextColor,value:t.textColor},{func:g.setFontStyle,value:t.fontStyle},{func:g.setDrawColor,value:t.lineColor},{func:g.setLineWidth,value:t.lineWidth},{func:g.setFont,value:t.font},{func:g.setFontSize,value:t.fontSize}];e.forEach(function(t){"undefined"!=typeof t.value&&(t.value.constructor===Array?t.func.apply(this,t.value):t.func(t.value))})}function c(t){t=t||{};var e={pageCount:v,settings:p,table:m,cursor:w};for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}function f(t,e,o,n){if(n="undefined"!=typeof n?n:"...",Array.isArray(t))return t.forEach(function(r,l){t[l]=f(r,e,o,n)}),t;if(e>=y(t,o))return t;for(;e<y(t+n,o)&&!(t.length<2);)t=t.substring(0,t.length-1);return t.trim()+n}function y(t,e){d(e);var o=g.getStringUnitWidth(t);return o*e.fontSize}function u(t){var e,o={};for(e in t)t.hasOwnProperty(e)&&(o[e]=t[e]);for(var n=1;n<arguments.length;n++){var r=arguments[n];for(e in r)r.hasOwnProperty(e)&&("object"!=typeof r[e]||Array.isArray(r[e])?o[e]=r[e]:o[e]=r[e])}return o}var g,w,p,v,m,x=1.15,b={cellPadding:5,fontSize:10,font:"helvetica",lineColor:200,lineWidth:.1,fontStyle:"normal",overflow:"ellipsize",fillColor:255,textColor:20,halign:"left",valign:"top",fillStyle:"F",rowHeight:20,columnWidth:"auto"},C={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal",fillStyle:"F"},header:{textColor:255,fillColor:[41,128,185],rowHeight:23,fontStyle:"bold"},body:{},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1,fillStyle:"DF"},header:{textColor:255,fillColor:[26,188,156],rowHeight:23,fillStyle:"F",fontStyle:"bold"},body:{},alternateRow:{}},plain:{header:{fontStyle:"bold"}}},S=function(){return{theme:"striped",styles:{},headerStyles:{},bodyStyles:{},alternateRowStyles:{},columnStyles:{},startY:!1,margin:40,pageBreak:"auto",tableWidth:"auto",createdHeaderCell:function(t,e){},createdCell:function(t,e){},drawHeaderRow:function(t,e){},drawRow:function(t,e){},drawHeaderCell:function(t,e){},drawCell:function(t,e){},beforePageContent:function(t){},afterPageContent:function(t){}}};t.autoTable=function(t,l,a){e(t,l,a),g=this,p=o(a||{}),v=1,w={y:p.startY===!1?p.margin.top:p.startY};var s={textColor:30,fontSize:g.internal.getFontSize(),fontStyle:g.internal.getFont().fontStyle};n(t,l),r();var f=m.rows[0]&&"auto"===p.pageBreak?m.rows[0].height:0,y=p.startY+p.margin.bottom+m.headerRow.height+f;return"avoid"===p.pageBreak&&(y+=m.height),("always"===p.pageBreak&&p.startY!==!1||p.startY!==!1&&y>g.internal.pageSize.height)&&(g.addPage(),w.y=p.margin.top),d(s),p.beforePageContent(c()),p.drawHeaderRow(m.headerRow,c({row:m.headerRow}))!==!1&&h(m.headerRow,p.drawHeaderCell),d(s),i(),p.afterPageContent(c()),d(s),this},t.autoTableEndPosY=function(){return"undefined"==typeof w||"undefined"==typeof w.y?0:w.y},t.autoTableHtmlToJson=function(t,e){e=e||!1;for(var o=t.rows[0],n={columns:[],rows:[]},r=0;r<o.cells.length;r++){var l=o.cells[r];n.columns.push("undefined"!=typeof l?l.textContent:"")}for(var i=1;i<t.rows.length;i++){var a=t.rows[i],s=window.getComputedStyle(a);if(e||"none"!==s.display){for(var h=[],d=0;d<o.cells.length;d++)h.push("undefined"!=typeof a.cells[d]?a.cells[d].textContent:"");n.rows.push(h)}}return n.data=n.rows,n},t.autoTableText=function(t,e,o,n){"number"==typeof e&&"number"==typeof o||console.error("The x and y parameters are required. Missing for the text: ",t);var r=g.internal.getFontSize()/g.internal.scaleFactor,l=x,i=/\r\n|\r|\n/g,a=null,s=1;if("middle"!==n.valign&&"bottom"!==n.valign&&"center"!==n.halign&&"right"!==n.halign||(a="string"==typeof t?t.split(i):t,s=a.length||1),o+=r*(2-l),"middle"===n.valign?o-=s/2*r:"bottom"===n.valign&&(o-=s*r),"center"===n.halign||"right"===n.halign){var h=r;if("center"===n.halign&&(h*=.5),s>=1){for(var d=0;d<a.length;d++)g.text(a[d],e-g.getStringUnitWidth(a[d])*h,o),o+=r;return g}e-=g.getStringUnitWidth(t)*h}return g.text(t,e,o),g}}(jsPDF.API);var Table=function t(){_classCallCheck(this,t),this.height=0,this.width=0,this.x=0,this.y=0,this.contentWidth=0,this.rows=[],this.columns=[],this.headerRow=null,this.settings={}},Row=function e(t){_classCallCheck(this,e),this.raw=t||{},this.index=0,this.styles={},this.cells={},this.height=0,this.y=0},Cell=function o(t){_classCallCheck(this,o),this.raw=t,this.styles={},this.text="",this.contentWidth=0,this.textPos={},this.height=0,this.width=0,this.x=0,this.y=0},Column=function n(t){_classCallCheck(this,n),this.dataKey=t,this.options={},this.styles={},this.contentWidth=0,this.width=0,this.x=0};